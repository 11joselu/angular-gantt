<div ng-controller="GanttTreeNodeController"
     class="gantt-row-label gantt-row-height"
     ng-class="row.model.classes"
     ng-style="{'height': row.model.height}">
    <div class="gantt-valign-container">
        <div class="gantt-valign-content">
            <a ng-disabled="isCollapseDisabled()" data-nodrag
               class="gantt-tree-handle-button btn btn-xs"
               ng-class="{'gantt-tree-collapsed': collapsed, 'gantt-tree-expanded': !collapsed}"
               ng-click="!isCollapseDisabled() && toggle()"><span
                class="gantt-tree-handle fa"
                ng-class="{
                'fa-check-circle': $parent.row.model.data.isProject,
                'fa-folder': collapsed && !isCollapseDisabled() && !$parent.row.model.data.isProject,
                'fa-folder-open': !collapsed && !isCollapseDisabled() && !$parent.row.model.data.isProject,
                'fa-circle': isCollapseDisabled(),
                'gantt-tree-collapsed': collapsed, 'gantt-tree-expanded': !collapsed}"></span>
            </a>
            <span class="gantt-label-text"
                ng-class="{
                'text-bold': !isCollapseDisabled(),
                'title-project': $parent.row.model.data.isProject
                }"
                gantt-bind-compile-html="getRowContent()"/>
        </div>
    </div>
</div>
<ol ui-tree-nodes ng-class="{hidden: collapsed}" ng-model="childrenRows">
    <li ng-repeat="row in childrenRows" ui-tree-node>
        <div ng-include="'plugins/tree/treeBodyChildren.tmpl.html'"></div>
    </li>
</ol>
